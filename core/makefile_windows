F90=pgfortran
FFLAGS=-c

UNAME := $(shell uname)
ifeq ($(UNAME), Darwin)
AR=lib
ARFLAGS=-o
ARPOST=2>nul
else
AR=ar
ARFLAGC=cr
ARPOST=
endif

pbl_met.lib : pbl_met.obj
	$(AR) lib /OUT:pbl_met.lib pbl_met.obj

pbl_met.obj pbl_met.mod : pbl_met.f90
	$(F90) $(FFLAGS) pbl_met.f90

.PHONY: clean
clean:
	del -f *.a
	del -f *.obj
	del -f *.mod
